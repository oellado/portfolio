<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>miguelgarest</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <div>
          <h1>MIGUELGAREST</h1>
          <p>Animator/Illustrator</p>
        </div>
        <div class="top-right-icons" aria-label="Social links">
          <a
            href="https://instagram.com/miguelgarest"
            target="_blank"
            rel="noopener noreferrer"
            aria-label="Instagram"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path
                d="M12,2.163c3.204,0,3.584,0.012,4.85,0.07c3.252,0.148,4.771,1.691,4.919,4.919c0.058,1.265,0.069,1.645,0.069,4.849 c0,3.205-0.012,3.584-0.069,4.849c-0.149,3.225-1.664,4.771-4.919,4.919c-1.266,0.058-1.644,0.07-4.85,0.07 c-3.204,0-3.584-0.012-4.849-0.07c-3.26-0.149-4.771-1.699-4.919-4.92c-0.058-1.265-0.07-1.644-0.07-4.849 c0-3.205,0.012-3.584,0.07-4.849c0.149-3.227,1.664-4.771,4.919-4.919C8.416,2.175,8.795,2.163,12,2.163 M12,0 C8.742,0,8.366,0.014,7.032,0.072C2.662,0.272,0.273,2.66,0.073,7.032C0.014,8.366,0,8.742,0,12c0,3.259,0.014,3.667,0.072,4.948 C0.272,21.338,2.66,23.727,7.032,23.927C8.366,23.986,8.742,24,12,24c3.259,0,3.668-0.014,4.948-0.072 c4.354-0.2,6.782-2.63,6.982-6.982C23.986,15.634,24,15.258,24,12c0-3.259-0.014-3.667-0.072-4.947c-0.2-4.354-2.63-6.782-6.982-6.982 C15.634,0.014,15.258,0,12,0L12,0z M12,5.838c-3.407,0-6.162,2.754-6.162,6.162c0,3.407,2.754,6.162,6.162,6.162 c3.407,0,6.162-2.754,6.162-6.162C18.162,8.592,15.407,5.838,12,5.838z M12,16c-2.209,0-4-1.791-4-4c0-2.209,1.791-4,4-4 c2.209,0,4,1.791,4,4C16,14.209,14.209,16,12,16L12,16z M19.766,3.244c-0.781,0-1.413,0.631-1.413,1.413c0,0.781,0.631,1.413,1.413,1.413 c0.781,0,1.413-0.631,1.413-1.413C21.179,3.876,20.548,3.244,19.766,3.244z"
              />
            </svg>
          </a>
          <a href="mailto:hi@miguelgarest.com" aria-label="Email">
            <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path
                d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 2l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"
              />
            </svg>
          </a>
        </div>
      </header>
      <div class="gif-grid" role="list">
        <img src="gifs/0.gif" alt="0" role="listitem" tabindex="0" />
        <img src="gifs/1.gif" alt="1" role="listitem" tabindex="0" />
        <img src="gifs/2.gif" alt="2" role="listitem" tabindex="0" />
      </div>
    </div>

    <!-- Lightbox markup -->
    <div
      class="lightbox-backdrop"
      role="dialog"
      aria-modal="true"
      aria-label="Image viewer"
      tabindex="-1"
    >
      <div class="lightbox-content">
        <button class="lightbox-close" aria-label="Close">&times;</button>
        <img src="" alt="" />
        <div class="lightbox-nav">
          <button class="lightbox-prev" aria-label="Previous">&#10094;</button>
          <button class="lightbox-next" aria-label="Next">&#10095;</button>
        </div>
      </div>
    </div>

    <footer>Â© Miguelgarest, 2025.</footer>
    <script>
      (function () {
        const lightbox = document.querySelector(".lightbox-backdrop");
        const lightboxImg = lightbox.querySelector("img");
        const closeBtn = lightbox.querySelector(".lightbox-close");
        const prevBtn = lightbox.querySelector(".lightbox-prev");
        const nextBtn = lightbox.querySelector(".lightbox-next");
        const gifs = Array.from(document.querySelectorAll(".gif-grid img"));
        let currentIndex = -1;

        function openLightbox(index) {
          currentIndex = index;
          const img = gifs[currentIndex];
          lightboxImg.src = img.src;
          lightboxImg.alt = img.alt;
          lightbox.classList.add("active");
          lightbox.focus();
          document.body.style.overflow = "hidden"; // prevent background scroll
        }

        function closeLightbox() {
          lightbox.classList.remove("active");
          lightboxImg.src = "";
          lightboxImg.alt = "";
          document.body.style.overflow = "";
        }

        function showPrev() {
          if (currentIndex > 0) {
            openLightbox(currentIndex - 1);
          }
        }

        function showNext() {
          if (currentIndex < gifs.length - 1) {
            openLightbox(currentIndex + 1);
          }
        }

        // Open lightbox on click or keyboard enter/space
        gifs.forEach((img, i) => {
          img.addEventListener("click", () => openLightbox(i));
          img.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
              e.preventDefault();
              openLightbox(i);
            }
          });
        });

        // Close lightbox on close button or backdrop click
        closeBtn.addEventListener("click", closeLightbox);
        lightbox.addEventListener("click", (e) => {
          if (e.target === lightbox) closeLightbox();
        });

        // Navigation buttons
        prevBtn.addEventListener("click", showPrev);
        nextBtn.addEventListener("click", showNext);

        // Keyboard navigation
        document.addEventListener("keydown", (e) => {
          if (!lightbox.classList.contains("active")) return;
          if (e.key === "Escape") closeLightbox();
          if (e.key === "ArrowLeft") showPrev();
          if (e.key === "ArrowRight") showNext();
        });

        // Swipe support (basic)
        let touchStartX = 0;
        let touchEndX = 0;

        lightbox.addEventListener("touchstart", (e) => {
          touchStartX = e.changedTouches[0].screenX;
        });

        lightbox.addEventListener("touchend", (e) => {
          touchEndX = e.changedTouches[0].screenX;
          if (touchEndX < touchStartX - 40) showNext();
          if (touchEndX > touchStartX + 40) showPrev();
        });
      })();
    </script>
  </body>
</html>
